---

import Arrow from '../assets/theme-images/icon-arrow.svg'

const { question, answer, category } = Astro.props

// Iconos según categoría
const categoryIcons = {
  'Seguridad y Cumplimiento': 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
  'Despliegue e Infraestructura': 'M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01',
  'Interoperabilidad': 'M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
  'Operatividad en Terreno': 'M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z',
  'Impacto y ROI': 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z',
  'Comercial y Piloto': 'M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
  'Soporte Técnico': 'M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z'
}

const iconPath = categoryIcons[category] || 'M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z'

---

<details name="faq"
class="group bg-gradient-to-r from-bs-surface-2 to-bs-surface-2 hover:from-bs-surface-3 hover:to-bs-surface-2 open:from-bs-surface-3 open:to-bs-surface-2 transition-all duration-300 w-full shadow-lg hover:shadow-xl rounded-xl border border-white/5 hover:border-emerald-500/20 open:border-emerald-500/30">

  <!-- Summary -->
  <summary class="flex gap-4 justify-between items-center p-6 cursor-pointer">

    <div class="flex items-start gap-4 flex-1">
      <!-- Category Icon -->
      <div class="mt-1 flex-shrink-0 w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center group-open:bg-emerald-500/20 transition-colors">
        <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={iconPath} />
        </svg>
      </div>
      
      <!-- Question -->
      <span class="select-none font-semibold text-white text-lg leading-relaxed" set:html={ question } />
    </div>

    <!-- Arrow Icon -->
    <span class="flex-shrink-0">
      <Arrow class="opacity-60 h-4 w-4 transition -rotate-90 group-open:rotate-90 ease-bs-bounce duration-1000" height="16" width="25" />
    </span>
  </summary>

  <!-- Content -->
  <div class="anim-wrapper max-w-none">

    <div class="px-6 pb-6 pl-20 text-gray-300 leading-relaxed text-base" set:html={ answer } />

  </div>

</details>


<style>

summary::-webkit-details-marker {
  display: none
}

details {

  @media (prefers-reduced-motion: no-preference) {
    interpolate-size: allow-keywords;
  }

  &::details-content {
    block-size: 0;
    opacity: 0;
    overflow-y: clip;
    transition: content-visibility 1s allow-discrete, opacity 1s, block-size 1s var(--ease-bs-bounce);
  }

  &[open]::details-content {
    block-size: auto;
    opacity: 1;
  }
}
</style>
